require('fs/promises').readFile('./input.txt').then(res => res.toString().split('\n').map(e => e.split('').map(e => +e))).then(matrix => matrix.reduce((acc, curr) => acc.map( (e, idx) => e + (curr[idx] || 0)))).then(data => data.map(e => (e > 500) ? 1 : 0)).then(arr => parseInt(arr.toString().replaceAll(',', ''), 2) * parseInt(arr.map(e => (e === 0) ? 1 : 0).toString().replaceAll(',', ''), 2)).then(console.log)
